import{a as y,b as U,c as Re}from"./chunk-QYC5FHTY.js";import{a as ye}from"./chunk-DW2WOTG4.js";import{a as ve}from"./chunk-PX5KW2VI.js";import{a as H,b as _,c as L,d as Ue,f as _e,g as be,h as he,i as Pe,j as Se,k as xe,l as Me,n as we}from"./chunk-OV4NVSWT.js";import{$ as Y,A as u,B as C,Ba as Ke,D as N,Da as R,F as se,G as j,Ga as $,H as c,I as l,M as f,N as p,P as n,Q as r,R as g,S as le,T as Ae,U as K,V as A,W as m,X as V,Y as me,Z as d,_ as v,a as oe,aa as de,ba as ge,c as k,ca as fe,da as ue,ga as h,ha as P,ia as S,j as re,ja as Ce,qa as x,r as ne,ra as M,s as Q,sa as w,ta as G,u as ce,ua as Fe,w as F,x as T,y as ae,z as pe}from"./chunk-T663EOGS.js";var J=class t{constructor(i){this.localStorageService=i}searchRecipes(i,e){return e.filter(o=>o.name.toLowerCase().includes(i.toLowerCase()))}static \u0275fac=function(e){return new(e||t)(ce(y))};static \u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})};var D=class t{constructor(i){this.host=i}customImg=!1;handleError(){let i=this.host.nativeElement;this.customImg?i.src=this.customImg:i.src="data:image/png;base64,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MVgX3inUb+OwEjqsticxSoPnJ6ZPqeBVt/G942+WKzsIL2Rdr3ccWJD/AIE0AbfhXUruDWb/AElLktZWcU3kJgHbtbjnvjJri9S1W81eQT38xmlVNoYgDA/D6mpdI1i40e6luLdUd5ImjbzAejd/rVDHGPbFAHperX9xaQ6csHiGDTR9jjbyZItxY469Pw/CsS51G50Lwlpk+mv5VxqLSTXFwoG5mz93Pbr09q57VtXn1h7drhI1NvCIV2AjIHrnvVnTPElxp1k1lJbW17aFt6w3Kbgreo9KAOtsW/tC+8LavcIq3tw8kcrAbfNAVsN9eP1rL8Jf8jvqX+5cZ/76rDvfEd/e6lb3u9IXtceRHEuEi+g96u3HjO7kin8iysbW4uFKy3MMeHYHr9M0Ab1pDa6h4H0jSrkhJLwS/ZpT/DKrEgfQ5Iq7YxSW3iTw9DMpSSPS3VlPYiuAm1e4m0yxscKkdizNE6ZDZJzz9K028aajJq1tqLx27T28LRDKnDA9SeetAGtoer3XiWPVNP1dluYEtnlSQoAYmHQgj/PFcQOQD7VuXniy7ubKW0gt7Oyim4l+zRbC49CfSsOgAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKuat/yGL3/rvJ/wChGqlACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtFACUUtenaT/wAgey/64J/6CKAP/9k="}static \u0275fac=function(e){return new(e||t)(l(se))};static \u0275dir=ae({type:t,selectors:[["img","appImgBroken",""]],hostBindings:function(e,o){e&1&&A("error",function(){return o.handleError()})},inputs:{customImg:"customImg"}})};var q=class t{callbackData=new N;src="";constructor(){}ngOnInit(){}callSearch(i){i.length>=3?this.callbackData.emit(i):this.callbackData.emit("")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-searcher"]],outputs:{callbackData:"callbackData"},decls:2,vars:1,consts:[[1,"search-bar"],["type","text","placeholder","Buscar...",3,"ngModelChange","ngModel"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"input",1),A("ngModelChange",function(s){return o.callSearch(s)}),ue("ngModelChange",function(s){return fe(o.src,s)||(o.src=s),s}),r()()),e&2&&(c(),ge("ngModel",o.src))},dependencies:[H,L,_e],styles:[".search-bar[_ngcontent-%COMP%]{display:flex;justify-content:center}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:1px solid var(--color-1);border-radius:4px;padding:.5rem 2rem .5rem 1rem;font-size:1rem;background-repeat:no-repeat;background-position:right .5rem center}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff}"]})};var E=t=>({modified:t});function Ne(t,i){if(t&1){let e=K();n(0,"div",15),g(1,"input",16)(2,"input",17),n(3,"button",11),A("click",function(){let a=u(e).index,s=m();return C(s.removeIngredient(a))}),d(4,"x"),r()()}if(t&2){let e,o,a=i.$implicit,s=i.index;p("formGroupName",s),c(),p("ngClass",h(3,E,(e=a.get("name"))==null?null:e.dirty)),c(),p("ngClass",h(5,E,(o=a.get("amount"))==null?null:o.dirty))}}var O=class t{constructor(i,e,o){this.fb=i;this.recipeService=e;this.router=o;this.recipeForm=this.fb.group({name:["",_.required],description:["",_.required],ingredients:this.fb.array([]),imagePath:["",_.required]})}recipe=null;close=new N;recipeForm;isNewRecipe=!1;ngOnChanges(){this.recipe?(this.recipeForm.patchValue(this.recipe),this.setIngredients(this.recipe.ingredients),this.isNewRecipe=!1):(this.isNewRecipe=!0,this.recipeForm.reset(),this.setIngredients([]))}onSave(){this.isNewRecipe?this.recipeService.addRecipe$(this.recipeForm.value).subscribe({next:i=>{this.recipeService.closeForm()},error:i=>{console.error("Error al guardar receta:",i)}}):this.updateRecipe(oe({_id:this.recipe?._id},this.recipeForm.value))}onClose(){this.close.emit()}updateRecipe(i){i._id&&this.recipeService.updateRecipe$(i._id,i).subscribe({next:e=>{this.recipeService.closeForm()},error:e=>{console.error("Error al actualizar receta:",e)}})}get ingredients(){return this.recipeForm.get("ingredients")}setIngredients(i){let e=i.map(a=>this.fb.group({name:[a.name,_.required],amount:[a.amount,[_.required,_.pattern("^[0-9]+$"),_.min(1)]]})),o=this.fb.array(e);this.recipeForm.setControl("ingredients",o)}addIngredient(){this.ingredients.push(this.fb.group({name:"",amount:""}))}removeIngredient(i){this.ingredients.removeAt(i)}static \u0275fac=function(e){return new(e||t)(l(Me),l(U),l(R))};static \u0275cmp=F({type:t,selectors:[["app-recipe-form"]],inputs:{recipe:"recipe"},outputs:{close:"close"},features:[pe],decls:28,vars:14,consts:[[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","formControlName","name","type","text",3,"ngClass"],["for","description"],["id","description","formControlName","description",3,"ngClass"],["formArrayName","ingredients"],["class","ingredient-item",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["for","imagePath"],["id","imagePath","formControlName","imagePath","type","texta",3,"ngClass"],["type","submit",3,"disabled"],[1,"ingredient-item",3,"formGroupName"],["formControlName","name","placeholder","Nombre del ingrediente",3,"ngClass"],["formControlName","amount","placeholder","Cantidad",3,"ngClass"]],template:function(e,o){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"span",2),A("click",function(){return o.onClose()}),d(3,"\xD7"),r(),n(4,"h2"),d(5),r(),n(6,"form",3),A("ngSubmit",function(){return o.onSave()}),n(7,"div",4)(8,"label",5),d(9,"Nombre"),r(),g(10,"input",6),r(),n(11,"div",4)(12,"label",7),d(13,"Descripci\xF3n"),r(),g(14,"textarea",8),r(),n(15,"div",4)(16,"label"),d(17,"Ingredientes"),r(),n(18,"div",9),f(19,Ne,5,7,"div",10),r(),n(20,"button",11),A("click",function(){return o.addIngredient()}),d(21,"+ Agregar Ingrediente"),r()(),n(22,"div",4)(23,"label",12),d(24,"URL de la Imagen"),r(),g(25,"textarea",13),r(),n(26,"button",14),d(27),r()()()()),e&2){let a,s,B;c(5),v(o.isNewRecipe?"Nueva Receta":"Editar Receta"),c(),p("formGroup",o.recipeForm),c(4),p("ngClass",h(8,E,(a=o.recipeForm.get("name"))==null?null:a.dirty)),c(4),p("ngClass",h(10,E,(s=o.recipeForm.get("description"))==null?null:s.dirty)),c(5),p("ngForOf",o.ingredients.controls),c(6),p("ngClass",h(12,E,(B=o.recipeForm.get("imagePath"))==null?null:B.dirty)),c(),p("disabled",o.recipeForm.invalid),c(),v(o.isNewRecipe?"Crear":"Guardar")}},dependencies:[x,M,be,H,L,Ue,he,xe,Pe,Se],styles:[".modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:var(--modal-z)}.modal-content[_ngcontent-%COMP%]{background-color:var(--color-3);border:2px solid var(--color-1);border-radius:8px;padding:20px;width:80%;height:90%;box-shadow:0 2px 10px #00000080;position:relative;overflow:hidden}.modal-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{height:100%;overflow:auto}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:24px;cursor:pointer;color:var(--color-1);border-radius:50%;transition:background-color .3s,color .3s}.close[_ngcontent-%COMP%]:hover{background-color:var(--color-2);color:var(--color-1)}h2[_ngcontent-%COMP%]{color:var(--color-4);margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:var(--color-4)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box;border:1px solid var(--color-2);border-radius:4px;background-color:var(--color-3);color:var(--color-1)}.form-group[_ngcontent-%COMP%]   input.modified[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.modified[_ngcontent-%COMP%]{color:var(--color-4)}button[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-4);border:none;padding:10px 20px;border-radius:4px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#218838}.ingredient-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:10px}.ingredient-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.ingredient-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:red;color:#fff;border:none;border-radius:50%;cursor:pointer;padding:0 10px}"]})};function je(t,i){if(t&1){let e=K();n(0,"div")(1,"button",1),A("click",function(){u(e);let a=m();return C(a.openRecipeForm(a.selectedRecipe))}),g(2,"i",2),r(),n(3,"button",1),A("click",function(){u(e);let a=m();return C(a.openDeleteWarning())}),g(4,"i",3),r()()}if(t&2){let e=m();c(),p("ngClass",e.inDetailsPage?"edit-button":"edit-button-alt"),c(),p("ngClass",e.inDetailsPage?"fas fa-pencil":"fas fa-pencil-alt"),c(),p("ngClass",e.inDetailsPage?"delete-button":"delete-button-alt")}}var I=class t{constructor(i,e,o){this.recipeService=i;this.router=e;this.warningModalService=o}selectedRecipe=null;inDetailsPage=!1;showDeleteWarning=!1;openRecipeForm(i){this.recipeService.openForm(i)}openDeleteWarning(){this.warningModalService.openModal("\xBFEst\xE1s seguro de que deseas borrar esta receta?",()=>this.confirmDelete())}closeDeleteWarning(){this.showDeleteWarning=!1}confirmDelete(){this.selectedRecipe?._id&&(this.deleteRecipe(this.selectedRecipe._id),this.closeDeleteWarning())}deleteRecipe(i){this.recipeService.removeRecipe$(i).subscribe({next:()=>{this.router.navigate(["/"])},error:e=>{console.error("Error al borrar receta:",e)}})}static \u0275fac=function(e){return new(e||t)(l(U),l(R),l(Re))};static \u0275cmp=F({type:t,selectors:[["app-edit-delete-button"]],inputs:{selectedRecipe:"selectedRecipe",inDetailsPage:"inDetailsPage"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"click","ngClass"],[3,"ngClass"],[1,"fas","fa-trash"]],template:function(e,o){e&1&&f(0,je,5,3,"div",0),e&2&&p("ngIf",o.selectedRecipe)},dependencies:[x,w],styles:[".edit-button[_ngcontent-%COMP%], .edit-button-alt[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%], .delete-button-alt[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:1.5em}.edit-button-alt[_ngcontent-%COMP%]:hover, .delete-button-alt[_ngcontent-%COMP%]:hover{background-color:#6360601a;border-radius:20%}.fa-pencil-alt[_ngcontent-%COMP%]{color:var(--color-3)}.fa-pencil[_ngcontent-%COMP%]{color:var(--color-4)}.delete-button[_ngcontent-%COMP%]:hover, .edit-button[_ngcontent-%COMP%]:hover{background-color:#ffffff75;border-radius:20%}.delete-button[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%], .delete-button-alt[_ngcontent-%COMP%]   .fa-trash[_ngcontent-%COMP%]{color:red}"]})};function Ve(t,i){if(t&1&&(n(0,"h3",10),d(1),r()),t&2){let e=m(2);c(),Y("Resultados para ",e.searchTerm,"")}}function Ge(t,i){if(t&1&&(le(0),f(1,Ve,2,1,"h3",9),Ae()),t&2){let e=m(),o=me(8);c(),p("ngIf",e.recipesResult.length>0)("ngIfElse",o)}}function He(t,i){if(t&1&&(n(0,"h3",10),d(1),r()),t&2){let e=m();c(),Y("No hay resultados para ",e.searchTerm,"")}}function Le(t,i){if(t&1){let e=K();n(0,"div",11)(1,"button",12),A("click",function(){let a=u(e).$implicit,s=m();return C(s.toggleFavorite(a))}),g(2,"i",13),r(),n(3,"div",14),A("click",function(){let a=u(e).$implicit,s=m();return C(s.openRecipeDetail(a))}),g(4,"img",15),r(),n(5,"div",16)(6,"h3"),d(7),r(),n(8,"div",17),g(9,"app-edit-delete-button",18),r()()()}if(t&2){let e=i.$implicit;c(2),p("ngClass",e.isFavorite?"fas fa-star":"far fa-star"),c(2),V("alt",e.name),p("src",e.imagePath,j),c(3),v(e.name),c(2),p("selectedRecipe",e)}}function Je(t,i){if(t&1){let e=K();n(0,"app-recipe-form",19),P(1,"async"),A("close",function(){u(e);let a=m();return C(a.recipeService.closeForm())}),r()}if(t&2){let e=m();p("recipe",S(1,1,e.recipeService.selectedRecipe$))}}var X=class t{constructor(i,e,o,a){this.recipeService=i;this.router=e;this.localStorageService=o;this.searchService=a}recipes=[];recipeSuscription=new k;recipesResult=[];searchTerm="";ngOnInit(){this.recipeSuscription=this.localStorageService.getRecipeObservable().subscribe(i=>{this.recipes=i})}ngOnDestroy(){this.recipeSuscription&&this.recipeSuscription.unsubscribe()}toggleFavorite(i){i.isFavorite=!i.isFavorite,i.isFavorite?(console.log("agregando a favoritos!"),this.localStorageService.updateData(this.localStorageService.getDataFromLocalStorage("favorites").concat(i),"favorites"),this.localStorageService.updateData(this.localStorageService.getDataFromLocalStorage("recipes").map(e=>e._id===i._id?i:e),"recipes")):(this.localStorageService.updateData(this.localStorageService.getDataFromLocalStorage("favorites").filter(e=>e._id!==i._id),"favorites"),this.localStorageService.updateData(this.localStorageService.getDataFromLocalStorage("recipes").map(e=>e._id===i._id?i:e),"recipes"))}openRecipeDetail(i){this.router.navigate(["recipes","recipe-details",i._id])}openRecipeForm(i){this.recipeService.openForm(i)}createNewRecipe(){this.recipeService.openForm(null)}receiveSearchTerm(i){i.length<3?(this.searchTerm="",this.recipesResult=[]):(this.searchTerm=i,this.recipesResult=this.searchService.searchRecipes(i,this.recipes))}static \u0275fac=function(e){return new(e||t)(l(U),l(R),l(y),l(J))};static \u0275cmp=F({type:t,selectors:[["app-recipes-page"]],decls:13,vars:5,consts:[["noResults",""],[1,"header-actions"],[1,"btn","btn-primary","new-recipe-button",3,"click"],[1,"fas","fa-plus"],[1,"search-bar",3,"callbackData"],[4,"ngIf"],[1,"recipes-container"],["class","recipe-card",4,"ngFor","ngForOf"],[3,"recipe","close",4,"ngIf"],["class","search-result",4,"ngIf","ngIfElse"],[1,"search-result"],[1,"recipe-card"],[1,"favorite-button",3,"click"],[3,"ngClass"],[1,"recipe-image",3,"click"],["appImgBroken","",3,"src","alt"],[1,"recipe-content"],[1,"recipe-actions"],[3,"selectedRecipe"],[3,"close","recipe"]],template:function(e,o){if(e&1){let a=K();n(0,"div",1)(1,"button",2),A("click",function(){return u(a),C(o.createNewRecipe())}),g(2,"i",3),d(3," Nueva Receta "),r(),n(4,"app-searcher",4),A("callbackData",function(B){return u(a),C(o.receiveSearchTerm(B))}),r()(),n(5,"div"),f(6,Ge,2,2,"ng-container",5)(7,He,2,1,"ng-template",null,0,Ce),n(9,"div",6),f(10,Le,10,5,"div",7),r()(),f(11,Je,2,3,"app-recipe-form",8),P(12,"async")}e&2&&(c(6),p("ngIf",o.searchTerm),c(4),p("ngForOf",o.searchTerm?o.recipesResult:o.recipes),c(),p("ngIf",S(12,3,o.recipeService.openForm$)))},dependencies:[x,M,w,D,q,O,I,G],styles:[".header-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:1rem;width:45%}.recipes-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:space-around;padding:16px}.recipe-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:8px;overflow:hidden;width:200px;box-shadow:0 2px 4px #0000001a;transition:transform .2s,outline .2s;display:flex;flex-direction:column;justify-content:space-between}.recipe-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);outline:4px solid var(--color-1)}.recipe-image[_ngcontent-%COMP%]{width:100%;height:100px;display:flex;align-items:center;justify-content:center;cursor:pointer}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.recipe-content[_ngcontent-%COMP%]{padding:5px;text-align:center}.recipe-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.2em;color:var(--color-3);font-weight:700}.recipe-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:8px}.favorite-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:1.5em;color:#fc0}.favorite-button[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:#fc0}.favorite-button[_ngcontent-%COMP%]   .fa-star.far[_ngcontent-%COMP%]{color:#ccc}.new-recipe-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.25em;font-weight:700;display:flex;align-items:center;gap:.5em;padding:.5em 1em;border:none;border-radius:.25em;cursor:pointer;transition:background-color .3s;margin-right:2rem}.new-recipe-button[_ngcontent-%COMP%]:hover{background-color:#218838}.new-recipe-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25em}.search-result[_ngcontent-%COMP%]{font-style:italic;font-size:.9rem}"]})};function qe(t,i){if(t&1&&(n(0,"li")(1,"h3"),d(2),r()()),t&2){let e=i.$implicit;c(2),de("",e.name," - ",e.amount,"")}}function Ze(t,i){if(t&1&&(n(0,"div",10)(1,"h2"),d(2,"Ingredientes"),r(),n(3,"ul"),f(4,qe,3,2,"li",11),r()()),t&2){let e=m(3);c(4),p("ngForOf",e.recipe.ingredients)}}function Xe(t,i){if(t&1&&(n(0,"div",3)(1,"div",4),g(2,"img",5),r(),n(3,"div",6)(4,"h1"),d(5),r(),n(6,"p",7),d(7),r(),f(8,Ze,5,1,"div",8),r(),g(9,"app-edit-delete-button",9),r()),t&2){let e=m(2);c(2),V("alt",e.recipe.name),p("src",e.recipe.imagePath,j),c(3),v(e.recipe.name),c(2),v(e.recipe.description),c(),p("ngIf",e.recipe.ingredients&&e.recipe.ingredients.length>0),c(),p("selectedRecipe",e.recipe)("inDetailsPage",!0)}}function ze(t,i){if(t&1){let e=K();n(0,"app-recipe-form",12),P(1,"async"),A("close",function(){u(e);let a=m(2);return C(a.recipeService.closeForm())}),r()}if(t&2){let e=m(2);p("recipe",S(1,1,e.recipeService.selectedRecipe$))}}function We(t,i){if(t&1&&(n(0,"div"),f(1,Xe,10,7,"div",1),n(2,"div"),f(3,ze,2,3,"app-recipe-form",2),P(4,"async"),r()()),t&2){let e=m();c(),p("ngIf",!0),c(2),p("ngIf",S(4,2,e.recipeService.openForm$))}}var z=class t{constructor(i,e,o,a){this.router=i;this.recipeService=e;this.route=o;this.localStorageService=a}recipe=null;subscriptions=new k;ngOnInit(){let i=re([this.localStorageService.getRecipeObservable(),this.route.paramMap]).subscribe(([e,o])=>{let a=o.get("id");a&&(this.recipe=e.find(s=>s._id===a)||null)});this.subscriptions.add(i)}ngOnDestroy(){this.subscriptions.unsubscribe()}loadRecipe(i){this.recipeService.getRecipeById$(i).subscribe({next:e=>{this.recipe=e},error:e=>{console.error("Error al cargar recetas:",e)}})}static \u0275fac=function(e){return new(e||t)(l(R),l(U),l(Ke),l(y))};static \u0275cmp=F({type:t,selectors:[["app-recipe-details-page"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","recipe-details-container",4,"ngIf"],[3,"recipe","close",4,"ngIf"],[1,"recipe-details-container"],[1,"recipe-image"],["appImgBroken","",3,"src","alt"],[1,"recipe-content"],[1,"description"],["class","ingredients",4,"ngIf"],[3,"selectedRecipe","inDetailsPage"],[1,"ingredients"],[4,"ngFor","ngForOf"],[3,"close","recipe"]],template:function(e,o){e&1&&f(0,We,5,4,"div",0),e&2&&p("ngIf",o.recipe)},dependencies:[M,w,D,O,I,G],styles:[".recipe-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.recipe-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;box-shadow:0 2px 10px #0000001a}.recipe-content[_ngcontent-%COMP%]{max-width:800px;width:100%;margin-top:20px;text-align:center}.recipe-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;color:var(--color-1);margin-bottom:20px}.recipe-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:1.5em;color:var(--color-4);margin-bottom:20px;text-align:left}.ingredients[_ngcontent-%COMP%]{text-align:left}.ingredients[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;color:var(--color-1);margin-bottom:10px}.ingredients[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px}.ingredients[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:var(--color-4);margin-bottom:5px}"]})};var Ye=[{path:"",component:X},{path:"recipe-details/:id",component:z,canActivate:[ve]}],W=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=T({type:t});static \u0275inj=Q({imports:[$.forChild(Ye),$]})};var Be=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=T({type:t});static \u0275inj=Q({imports:[Fe,W,ye,we]})};export{D as a,Be as b};
